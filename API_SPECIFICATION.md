# AI ë‰´ìŠ¤ ê°œì¸í™” í”Œë«í¼ API ì‚¬ì–‘ì„œ

## ğŸš€ ê°œìš”
ì‹¤ì‹œê°„ ë‰´ìŠ¤ â†’ 5W1H êµ¬ì¡°í™” â†’ ê°œì¸ë§ì¶¤ ê¸°ì‚¬ ìƒì„± API  
**íŠ¹í—ˆ ê¸°ìˆ ** ê¸°ë°˜ ë‹¤ì°¨ì› ì‚¬ìš©ì í”„ë¡œí•„ ë¶„ì„

## ğŸ”‘ ì¸ì¦
```
Authorization: Bearer <API_TOKEN>
X-Internal-Api-Key: <API_TOKEN>
Content-Type: application/json
```

## ğŸ“¡ ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

### **1. ë‰´ìŠ¤ ê°œì¸í™” (í•µì‹¬ API)**
```http
POST /api/news/personalize
```

**ìš”ì²­ ì˜ˆì‹œ:**
```json
{
  "article_id": "7e080ac387ce52a4dbfad9e3",
  "user_id": "demo_investor"
}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "ok": true,
  "provider": "groq",
  "personalized_article": "ë¶ì¤‘ ì •ìƒíšŒë‹´ìœ¼ë¡œ ë™ë¶ì•„ ì¦ì‹œ ìƒìŠ¹ ëª¨ë©˜í…€ì´ í™•ì¸ëë‹¤ê³  ì „í–ˆë‹¤. íˆ¬ììë“¤ì´ ì£¼ëª©í•´ì•¼ í•  í¬ì¸íŠ¸ëŠ”...",
  "title": "6ë…„ ë§Œì— ë™ì§€ ë§Œë‚˜ ê¹€ì •ì€Â·ì‹œì§„í•‘ 'ëˆëˆí•¨' ê³¼ì‹œ",
  "key_points": [
    "íˆ¬ìì ê´€ì  ë¶„ì„",
    "AI ê¸°ë°˜ ë§ì¶¤í˜• ì¬êµ¬ì„±", 
    "ì‹¤ì‹œê°„ ë‰´ìŠ¤ ì²˜ë¦¬"
  ],
  "reading_time": "2ë¶„",
  "is_fallback": false
}
```

### **2. ìµœì‹  ê¸°ì‚¬ ì¡°íšŒ**
```http
GET /api/news/articles?limit=10&source=ì—°í•©ë‰´ìŠ¤
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "articles": [
    {
      "id": "7e080ac387ce52a4dbfad9e3",
      "title": "6ë…„ ë§Œì— ë™ì§€ ë§Œë‚˜ ê¹€ì •ì€Â·ì‹œì§„í•‘ 'ëˆëˆí•¨' ê³¼ì‹œ",
      "source": "ì—°í•©ë‰´ìŠ¤",
      "license": "RSS_PUBLIC",
      "copyright": "Â© ì—°í•©ë‰´ìŠ¤. All rights reserved.",
      "published": "2025-09-05T01:47:42+09:00",
      "collected_at": "2025-09-05T02:51:44.209722+09:00"
    }
  ],
  "count": 1
}
```

### **3. ì‚¬ìš©ì í”„ë¡œí•„ ìƒì„±**
```http
POST /api/users/profiles
```

**ìš”ì²­ ì˜ˆì‹œ:**
```json
{
  "user_id": "demo_investor",
  "age": 40,
  "job_categories": ["Investment"],
  "interests_finance": ["ì£¼ì‹", "ë¶€ë™ì‚°"],
  "reading_mode": "concise"
}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "ok": true,
  "profile": {
    "user_id": "demo_investor",
    "role": "íˆ¬ìì",
    "interests": ["ì£¼ì‹", "ë¶€ë™ì‚°"],
    "reading_mode": "concise"
  },
  "provider": "step1_stable"
}
```

### **4. ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸**
```http
GET /api/system/health
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "status": "healthy",
  "checks": {
    "database": true,
    "ai_engine": true, 
    "news_collector": true,
    "cache": true
  },
  "timestamp": "2025-09-05T08:15:30.013716"
}
```

### **5. ì„±ëŠ¥ ì§€í‘œ ëŒ€ì‹œë³´ë“œ**
```http
GET /api/dashboard/metrics?hours=24
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "api_performance": {
    "total_requests": 150,
    "success_rate": 98.0,
    "response_times": {
      "p50": 2650,
      "p95": 4200, 
      "avg": 2890
    }
  },
  "ai_provider_stats": {
    "groq": {
      "requests": 25,
      "successes": 22,
      "avg_response_time": 2100,
      "primary_model": "gemma2-9b-it"
    }
  }
}
```

## ğŸ”’ ë³´ì•ˆ/ì»´í”Œë¼ì´ì–¸ìŠ¤

### **Rate Limiting**
- **ê¸°ë³¸**: 100 RPS
- **ë²„ìŠ¤íŠ¸**: 200 RPS (1ë¶„)

### **ë°ì´í„° ë³´í˜¸**
- **PII ìˆ˜ì§‘ ê¸ˆì§€**: ê°œì¸ì •ë³´ ë¯¸ì €ì¥
- **ë¡œê·¸ ë³´ê´€**: 30ì¼ (ê°ì‚¬ ëª©ì )
- **ì•”í˜¸í™”**: TLS 1.3

### **IP í—ˆìš© ëª©ë¡**
```
# PoC íŒŒíŠ¸ë„ˆ ë„ë©”ì¸
*.fnguide.com
*.deepsearch.com
*.dable.io
```

## âš¡ ì„±ëŠ¥ ì§€í‘œ

### **ì‘ë‹µ ì‹œê°„**
- **p50**: â‰¤ 9ì´ˆ
- **p95**: â‰¤ 15ì´ˆ
- **í‰ê· **: ~3ì´ˆ

### **ì•ˆì •ì„±**
- **ê°€ìš©ì„±**: 99.9%
- **ì„±ê³µë¥ **: â‰¥ 98%
- **í´ë°± ì‹œê°„**: < 1ì´ˆ

## ğŸ”§ ì—ëŸ¬ ì½”ë“œ

| **ì½”ë“œ** | **ì˜ë¯¸** | **ëŒ€ì‘** |
|---------|---------|---------|
| 200 | ì •ìƒ ì²˜ë¦¬ | - |
| 400 | ìš”ì²­ ì˜¤ë¥˜ | ìš”ì²­ í˜•ì‹ í™•ì¸ |
| 401 | ì¸ì¦ ì‹¤íŒ¨ | API í† í° í™•ì¸ |
| 429 | ì†ë„ ì œí•œ | ì¬ì‹œë„ (ë°±ì˜¤í”„) |
| 500 | ì„œë²„ ì˜¤ë¥˜ | ìë™ í´ë°± ì‹¤í–‰ |

## ğŸ“ ê¸°ìˆ  ì§€ì›
- **ì‘ë‹µ ì‹œê°„**: 24ì‹œê°„ ì´ë‚´
- **ê¸´ê¸‰ ì—°ë½**: [ì—°ë½ì²˜]
- **ìš´ì˜ ì‹œê°„**: 24/7 ëª¨ë‹ˆí„°ë§

---
*ë²„ì „: v3.0.8 | ì—…ë°ì´íŠ¸: 2025-09-05*